{%- assign headerSnippetPath = 'header-index' -%}
{%- assign wfPage = '687b9decde4053855982b5ee' -%}
{%- assign bodyClasses = '' -%}

<div class="page-wrapper home">
	{%- render 'global-styles' -%}
	{%- render 'navbar' -%}

	<main class="main-wrapper">
		{% section 'header-home' %}
		{% render 'grid-produtos' %}
		{% section 'sobre-home' %}
		{% section 'section-quem' %}
	</main>

	{%- render 'footer' -%}
</div>

<script
	src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=687b9decde4053855982b5b1"
	type="text/javascript"
	integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
	crossorigin="anonymous"
	defer></script>
<script
	src="{{ 'webflow.js' | asset_url }}"
	type="text/javascript"
	defer></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
	defer></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"
	defer></script>
<script
	src="{{ 'animations.js' | asset_url }}"
	type="text/javascript"
	defer></script>

<style>
	.button-group {
		display: flex;
		gap: 10px;
		flex-wrap: wrap;
	}

	.sidebar-cart-trigger {
		background-color: #333 !important;
		color: #fff !important;
	}

	.sidebar-cart-trigger:hover {
		background-color: #555 !important;
	}

	/* Line container and styling */
	.heading-line-container {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 20px 0;
	}

	.line-left {
		position: absolute;
		top: 50%;
		left: -100vw;
		width: calc(50vw - 50% - 20px);
		height: 2px;
		background-color: #007bff;
		transform: translateY(-50%);
	}

	.line-right {
		position: absolute;
		top: 50%;
		right: -100vw;
		width: calc(50vw - 50% - 20px);
		height: 2px;
		background-color: #007bff;
		transform: translateY(-50%);
	}

	.heading-with-line {
		padding: 0 20px;
		position: relative;
		z-index: 1;
	}

	/* Desktop Banner Styles */
	.section_desktop_banner {
		width: 100%;
		height: 100vh;
		position: relative;
		overflow: hidden;
	}

	.desktop-banner-wrapper {
		width: 100%;
		height: 100%;
		position: relative;
	}

	.desktop-banner-image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		object-position: center;
	}

	/* Hide desktop banner on mobile */
	@media (max-width: 768px) {
		.section_desktop_banner {
			display: none;
		}
	}

	/* Mobile Banner Styles */
	.section_header5 {
		position: relative;
		width: 100%;
		overflow: hidden;
	}

	.header5_background-image-wrapper {
		position: relative;
		width: 100%;
		z-index: 1;
	}

	.header5_background-image {
		width: 100%;
		height: auto;
		display: block;
	}

	.header5_content {
		position: relative;
		z-index: 2;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	/* Hide mobile banner on desktop */
	@media (min-width: 769px) {
		.section_header5 {
			display: none;
		}
	}

	/* Custom styles for is-alternate shop button */
	.button.is-alternate.shop {
		border-color: white !important;
		color: white !important;
	}

	.button.is-alternate.shop:hover {
		background-color: white !important;
		color: var(--color-scheme-1--color) !important;
	}
</style>

<script>
	// Function to add product to cart and open sidebar
	function addToCartAndOpenSidebar(productId, quantity = 1) {
		// Show loading state
		const button = event.target;
		const originalText = button.textContent;
		button.textContent = 'Adicionando...';
		button.disabled = true;

		const formData = new FormData();
		formData.append('id', productId);
		formData.append('quantity', quantity);

		fetch('/cart/add.js', {
			method: 'POST',
			body: formData,
		})
			.then(response => response.json())
			.then(data => {
				if (data.status) {
					// Error occurred
					alert('Error adding product to cart: ' + data.description);
				} else {
					// Success - update cart count and open sidebar
					updateCartCount();
					if (typeof window.openSidebarCart === 'function') {
						window.openSidebarCart();
					}
				}
			})
			.catch(error => {
				console.error('Error:', error);
				alert('Error adding product to cart');
			})
			.finally(() => {
				// Reset button state
				button.textContent = originalText;
				button.disabled = false;
			});
	}

	// Function to update cart count and sidebar
	function updateCartCount() {
		fetch('/cart.js')
			.then(response => response.json())
			.then(cart => {
				console.log('Cart updated:', cart);

				const cartCountElements = document.querySelectorAll('.cart-quantity-text');
				cartCountElements.forEach(element => {
					element.textContent = cart.item_count;
				});

				// Update sidebar cart if it exists with a small delay to ensure DOM is ready
				if (typeof window.updateCartDisplay === 'function') {
					setTimeout(() => {
						window.updateCartDisplay(cart);
					}, 100);
				}
			})
			.catch(error => {
				console.error('Error updating cart count:', error);
			});
	}
</script>
